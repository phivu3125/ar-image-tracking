@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: Arial, Helvetica, sans-serif;
  margin: 0;
  padding: 0;
}

/* ============================================
   AR PAGE SPECIFIC STYLES
   Only apply when .ar-container is present
   ============================================ */

/* AR Container - fullscreen camera view */
.ar-container {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  height: 100dvh !important;
  overflow: hidden !important;
  background: transparent !important;
}

/* Lock body scroll when AR is active */
body:has(.ar-container) {
  overflow: hidden;
  overscroll-behavior: none;
}

/* MindAR container div */
.ar-container > div {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  background: transparent !important;
}

/* Video element from MindAR - fill viewport */
.ar-container video {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  z-index: 1 !important;
}

/* Canvas element from three.js - transparent overlay */
.ar-container canvas {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  z-index: 2 !important;
  pointer-events: none !important; /* Allow clicks to pass through to UI */
}

/* Hide MindAR default UI */
.mindar-ui-overlay,
.mindar-ui-loading,
.mindar-ui-scanning,
.mindar-ui-error {
  display: none !important;
}

/* Safe area for notched devices */
@supports (padding: env(safe-area-inset-top)) {
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* AR UI Elements - responsive positioning */
.ar-back-btn {
  position: fixed !important;
  top: 16px;
  left: 16px;
  z-index: 9999;
  pointer-events: auto;
}

.ar-instructions {
  position: fixed !important;
  left: 50%;
  transform: translateX(-50%);
  z-index: 9999;
  bottom: calc(16px + env(safe-area-inset-bottom, 0px));
}

/* Taller screens (tablet/desktop) - more spacing */
@media (min-height: 700px) {
  .ar-instructions {
    bottom: calc(32px + env(safe-area-inset-bottom, 0px));
  }
}

/* Very tall screens (large desktop) */
@media (min-height: 900px) {
  .ar-instructions {
    bottom: calc(48px + env(safe-area-inset-bottom, 0px));
  }
}
